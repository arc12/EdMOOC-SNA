EdMOOC-SNA
==========
Code related to social network analysis for Coursera MOOC data. This is mostly about extraction and an exploration of different definitions of "tie" (see Tie Type Comparison Synthesis.html). This work was undertaken for the University of Edinburgh DEI MOOC Initiative.

The data source is a MySQL database built from dumps obtained from Coursera. The courses ran in the around March 2013. Note that we had problems with character encoding that led to very slow queries. This problem was resolved by changing the database as follows:

ALTER TABLE `hash_mapping` MODIFY anon_user_id varchar(120);
ALTER TABLE `hash_mapping` MODIFY forum_user_id varchar(120);
ALTER TABLE `hash_mapping` MODIFY session_user_id varchar(120);
ALTER TABLE `hash_mapping` CONVERT TO CHARACTER SET utf8mb4;
CREATE INDEX forum_user_idx ON `hash_mapping` (forum_user_id);

The missing file dbConnect.R simply contains:

conn<-function(schemaName=NULL){
   return (dbConnect(MySQL.driver, user='username', dbname=schemaName, 
                   host='localhost', password='password'))
}

General Caveats
------------

Although an issue tracker is enabled, and its use is welcomed, I do not promise to resolve problems but I will try to respond. This is essentially the result of a finished project that will only be maintained if time is available, embarrassment is great, or another project comes along, etc...

There are three folders - each one covers a unit of processing - with some dependency between them, see below, and there is also some stuff which is not made public so it is possible there may be references in code comments to work that is not in the repository. RData files are used as an intermediary between the units of processing but they are not present in the repository because it would be inappropriate to disclose University of Edinburgh data.

In general, files of type ... are ...:
* R - R code, likely to be for pre-processing or including in rmd
* rmd - mixed R code and markdown intended to be put through _knitr_ to generate the html file with the same stem. The use of RStudio is convenient.
* md - markdown file auto-generated by knitr in most cases
* html - output reports

And finally:  there are certainly some rough edges!

Network Extractors
-----------------

Contains code to build networks based on different assumptions of what a tie is. These are plain R code and output - for each course separately - .RData containing the network (using the data structure from the "network" package) and a graphml file (created using the "igraph" package). Gephi can consume the graphml file, or it may be read in using the igraph package. NB igraph and network packages are not mutually compatible.

Note: that forums designated for self-introductions may be excluded by using "intoductions.forumIDs"; that a threshold parameter should be set for Whole-Thread.

The tie models are:
* Poster-Commenter Network - A tie between individuals is defined by a comment on a post. This is a directed tie from the commenter to the poster.
* Post-Set Network - An undirected graph where a poster and all commenters have mutual ties.
* Whole-thread with threshold - All contributors (comments or posts) to a thread are considered tied if both parties make a minimum (threshold) number of contributions.

This also contains a script to push the results int MySQL, from the .RData output.

Describe Net
------------

Compute network-level descriptive/summary statistics. These are not particularly interesting but give an overview of density, number of isolates, and relative centrality (and in/out balance for Poster-Commenter). The results discriminate between the self-introduction and other forums. Run the Rmd files, noting thet Whole-Thread also allows the setting of a threshold parameter.

**DEPENDS ON: Network Extractors**

Tie Type Comparison
------------

### Tie Type Correlation

Inspects networks defined by different tie types and looks for correlation etc. In other words: how similar do the centrality measures for different tie types appear to be?

**DEPENDS ON: Network Extractors**

### Tie Type Comparison Synthesis 

An account of the tie models and centrality measures, exploring "what makes a good model" etc.

**DEPENDS ON: Describe Net**